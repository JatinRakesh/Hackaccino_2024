<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Bouncing Cubes</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene environment="preset:osiris">
      
      <a-entity position="0 1.6 0">
        <a-camera></a-camera>
      </a-entity>
      <a-light type="ambient" color="#FFF"></a-light>
      <a-light type="point" position="2 4 4" intensity="0.5" color="#FFF"></a-light>
 
      <a-entity id="targets" position="0 1 -5" rotation="0 30 0">
        <a-box id="target1" position="-2 1.5 -3" scale="0.7 0.7 0.7" color="#FFC65D" clickable animation__move="property: position; to: -2 2.5 -3; dir: alternate; dur: 1000; loop: true"></a-box>
        <a-box id="target2" position="0 2 -5" scale="0.7 0.7 0.7" color="#EF2D5E" clickable animation__move="property: position; to: 0 3 -5; dir: alternate; dur: 1200; loop: true"></a-box>
        <a-box id="target3" position="2 1 -3" scale="0.8 0.8 0.8" color="#4CC3D9" clickable animation__move="property: position; to: 2 3 -3; dir: alternate; dur: 1100; loop: true"></a-box>
      </a-entity>
      
    
      <a-plane position="0 0 -4" rotation="-90 0 0" width="20" height="20" color="#7BC8A4"></a-plane>
      
     
      
      
      <a-entity cursor-listener></a-entity>
    </a-scene>
    
    <script>
      AFRAME.registerComponent('cursor-listener', {
        init: function () {
          var targets = document.querySelectorAll('[clickable]');
          targets.forEach(function(target) {
            target.addEventListener('click', function() {
              this.emit('shoot');
              this.parentNode.removeChild(this); 
            });
          });
        }
      });
    </script>
  </body>
</html>
